(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4408],{87558:function(e,t,a){Promise.resolve().then(a.bind(a,27399))},27399:function(e,t,a){"use strict";a.r(t);var s=a(57437),n=a(42015),r=a(2265),c=a(47424),l=a.n(c),i=a(62867),o=a(63146),d=a(25486),u=a(11490),x=a(74983),f=a(97350);a(51577);var h=a(81630),m=a.n(h);a(24033),t.default=()=>{let[e,t]=(0,r.useState)(!1),[a,c]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[N,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(!1),{proposal:Z}=(0,n.O)();u.Z.get("dream_starter_wallet"),(0,r.useEffect)(()=>{w(!1)},[]);let{aptos:A,moduleAddress:R}=(0,f.Z)(),{activeAccount:F,disconnectKeylessAccount:T}=(0,x.x)();console.log("activeAccount",F);let[z,M]=(0,r.useState)(""),[P,O]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!0),[L,U]=(0,r.useState)(null),[W,q]=(0,r.useState)(!1);async function B(){b(!0);try{let e=await window.aptos.signAndSubmitTransaction({type:"entry_function_payload",function:"0x752d1c37fe7060e599af08f584b6ba0aa989ac163f83424622592f714a8df2e7::nft::stake",type_arguments:[],arguments:[]});console.log("stake Response:",e)}catch(e){console.error("Error handling draw card and fetching rap:",e)}finally{}g(!0)}async function G(){c(!0);try{let e=await window.aptos.signAndSubmitTransaction({type:"entry_function_payload",function:"0x752d1c37fe7060e599af08f584b6ba0aa989ac163f83424622592f714a8df2e7::nft::user_mint",type_arguments:[],arguments:[]});console.log("mint Response:",e)}catch(e){console.error("Error handling draw card and fetching rap:",e)}finally{}t(!0)}return((0,r.useEffect)(()=>{let e=async()=>{try{let e=await m().get("https://api.multiavatar.com/".concat(Math.floor(1e3*Math.random()))),t="data:image/svg+xml,".concat(encodeURIComponent(e.data));M(t)}catch(e){console.error("Error fetching avatar:",e.message)}};e()},[]),(0,r.useEffect)(()=>{let e=async()=>{try{let e=async e=>{let t=await A.getAccountAPTAmount({accountAddress:e});return t},t=await e(F.accountAddress);console.log("Sender balance:",t),U(t),q(!1)}catch(e){console.error("Error fetching balance:",e.message)}};e()},[F,W]),y)?(0,s.jsx)("p",{children:"Loading..."}):Z?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsx)("div",{className:"flex flex-col items-center h-screen justify-center py-8 px-4 bg-[#1d5e74] sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"text-sm border py-8 px-6 max-w-xl rounded-md flex flex-col gap-4 border-gray-600 shadow-2xl bg-[#0F4C81] sm:px-8 lg:px-10",style:{background:"#0F4C81"},children:[(0,s.jsx)("div",{className:"text-xl font-bold text-white",children:Z.title}),(0,s.jsx)("div",{className:"text-base mt-4 mb-3 text-white",children:(0,s.jsx)("p",{children:Z.description})}),(0,s.jsx)("div",{children:e?(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)(o.Z,{variant:"secondary",size:"sm",style:{background:"white",color:"black",borderRadius:"999px"},children:"Withdraw Funds"}),(0,s.jsx)(o.Z,{variant:"secondary",size:"sm",style:{background:"white",color:"black",borderRadius:"999px"},children:"Dispute"}),(0,s.jsx)(o.Z,{variant:"secondary",size:"sm",style:{background:"white",color:"black",borderRadius:"999px"},children:"Claimback"})]}):(0,s.jsxs)("div",{className:"mt-4",children:[h&&(0,s.jsx)(o.Z,{variant:"primary",size:"md",onClick:G,style:{background:"white",color:"black",borderRadius:"999px"},children:a?"Minting...":"Mint NFT"}),!h&&(0,s.jsx)(o.Z,{variant:"primary",size:"md",onClick:()=>B(),style:{background:"white",color:"black",borderRadius:"999px"},children:p?"Staking...":"Stake Token"})]})}),h&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-white",children:"Funding Progress:"}),(0,s.jsx)("div",{className:"w-full h-4 bg-gray-300 rounded",children:(0,s.jsx)("div",{style:{width:"".concat(5,"%")},className:"h-full bg-blue-500 rounded"})}),(0,s.jsxs)("p",{children:[.4," APT"]})]})]})})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center mt-20",children:[(0,s.jsx)(l(),{animationData:i,loop:!0}),(0,s.jsx)("div",{className:"text-lg",children:"No Crowdfunding Event"})]})]})}},24033:function(e,t,a){a(50094)}},function(e){e.O(0,[4705,9719,1630,478,7424,4696,6113,2971,2472,1744],function(){return e(e.s=87558)}),_N_E=e.O()}]);