(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{55024:function(){},16811:function(e,t,r){Promise.resolve().then(r.bind(r,59739))},42015:function(e,t,r){"use strict";r.d(t,{O:function(){return s},m:function(){return l}});var a=r(57437),o=r(2265);let n=(0,o.createContext)(void 0),s=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useProposal must be used within a ProposalProvider");return e},l=e=>{let{children:t}=e,[r,s]=(0,o.useState)(null);console.log(r);let[l,i]=(0,o.useState)({likes:0,dislikes:0}),[c,d]=(0,o.useState)(0);return(0,a.jsx)(n.Provider,{value:{proposal:r,setProposal:s,votes:l,setVotes:i,votesPercentage:c,setVotesPercentage:d},children:t})}},63146:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(57437),o=e=>{let{className:t}=e;return(0,a.jsx)("div",{className:"".concat(t," h-6 w-6 animate-spin rounded-[50%] border-4 border-white")})},n=e=>{let{variant:t,className:r,size:n="md",children:s,_isSubmitting:l,...i}=e;return(0,a.jsx)("button",{className:"  ".concat(r," ").concat({lg:"rounded-lg text-base px-6 py-3",md:"rounded-lg text-sm px-6 py-3",sm:"rounded-md text-sm px-3 py-1 text-sm "}[n],"  ").concat({primary:"bg-blue-500 hover:bg-blue-400 text-white",secondary:"border border-grey-5 text-gray-5",tertiary:"",destructive:"bg-red-500"}[t]),...i,children:l?(0,a.jsx)(o,{}):s})}},59739:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var a=r(57437),o=r(56230),n=r(63146),s=r(43574),l=r(54760),i=r(67848),c=r(80568),d=r(42015),u=r(69627),p=r(2265),m=r(11490),h=r(61396),x=r.n(h),g=r(74983),f=r(97350),b=r(81630),y=r.n(b),v=()=>{let[e,t]=(0,p.useState)(null),[r,o]=(0,p.useState)(!1),n=[{title:"Launch",subItems:[{title:"Create Proposal",path:"/launch/create-proposal"},{title:"Convert Proposal",path:"/launch/convert-proposal"}]},{title:"Explore",subItems:[{title:"Ongoing Proposals",path:"/explore/ongoing-proposals"},{title:"Crowdfunding Events",path:"/explore/crowdfunding-events"}]}],s=m.Z.get("dream_starter_wallet"),{aptos:l,moduleAddress:i}=(0,f.Z)(),{activeAccount:c,disconnectKeylessAccount:d}=(0,g.x)();console.log("activeAccount",c);let[u,h]=(0,p.useState)(""),[b,v]=(0,p.useState)(!1),[w,j]=(0,p.useState)(!0),[N,k]=(0,p.useState)(null),[A,_]=(0,p.useState)(!1),P=()=>{if("aptos"in window)return window.aptos;window.open("https://petra.app/","_blank")},K=async()=>{let e=P();try{let t=await e.connect();console.log(t);let r=await e.network();if("Testnet"===r){let r={message:"Hello! from dream starter",nonce:Math.random().toString(16)};await e.signMessage(r),m.Z.set("dream_starter_wallet",t.address,{expires:7}),window.location.reload()}else alert("Switch to Testnet in your Petra wallet")}catch(e){console.error(e)}};return(0,p.useEffect)(()=>{let e=async()=>{try{let e=await y().get("https://api.multiavatar.com/".concat(Math.floor(1e3*Math.random()))),t="data:image/svg+xml,".concat(encodeURIComponent(e.data));h(t)}catch(e){console.error("Error fetching avatar:",e.message)}};e()},[]),(0,p.useEffect)(()=>{let e=async()=>{try{let e=async e=>{let t=await l.getAccountAPTAmount({accountAddress:e});return t},t=await e(c.accountAddress);console.log("Sender balance:",t),k(t),_(!1)}catch(e){console.error("Error fetching balance:",e.message)}};e()},[c,A]),(0,a.jsxs)("div",{className:"px-6 py-4 shadow-sm flex justify-between items-center bg-transparent text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold -z-10 text-transparent",children:"Dream Starter"}),(0,a.jsx)("button",{className:"md:hidden focus:outline-none",onClick:()=>o(!r),children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsxs)("div",{className:"hidden md:flex gap-4 items-center",children:[n.map(r=>(0,a.jsxs)("div",{className:"relative cursor-pointer",onMouseEnter:()=>t(r.title),onMouseLeave:()=>t(null),children:[r.title,r.subItems&&(0,a.jsx)("div",{className:"absolute left-0 w-48 py-2 px-2 rounded-md shadow-xl bg-gray-800 ".concat(e===r.title?"block":"hidden"),children:r.subItems.map(e=>(0,a.jsx)(x(),{href:e.path,className:"block px-4 py-2 text-sm hover:bg-gray-700 rounded-md",children:e.title},e.title))})]},r.title)),(0,a.jsx)(x(),{href:"/community/create-community",className:"hover:text-gray-400",children:"Community"}),(0,a.jsx)(x(),{href:"/dashboard/crowdfunding-events",className:"hover:text-gray-400",children:"Dashboard"})]})]}),s&&(0,a.jsx)("button",{onClick:()=>{m.Z.remove("dream_starter_wallet"),window.location.href="/"},className:"bg-white text-black px-3 py-2 rounded-xl hover:bg-gray-200",children:"Logout"}),b&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-black text-white rounded-lg shadow-lg overflow-hidden w-full max-w-md",children:[(0,a.jsx)("div",{className:"flex justify-end p-2",children:(0,a.jsx)("button",{onClick:()=>v(!1),className:"text-white hover:text-gray-400",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Login Options"}),(0,a.jsx)("button",{className:"bg-white text-black px-4 py-2 rounded-md hover:bg-gray-200",onClick:K,children:"Connect with Petra"})]})]})}),(0,a.jsxs)("div",{className:"".concat(r?"block":"hidden"," md:hidden absolute top-16 left-0 right-0 bg-black text-white z-50"),children:[n.map(r=>(0,a.jsxs)("div",{className:"border-b border-gray-700",children:[(0,a.jsx)("div",{className:"cursor-pointer px-4 py-2",onClick:()=>t(e===r.title?null:r.title),children:r.title}),r.subItems&&e===r.title&&(0,a.jsx)("div",{className:"bg-gray-800",children:r.subItems.map(e=>(0,a.jsx)(x(),{href:e.path,className:"block px-4 py-2 text-sm hover:bg-gray-700",children:e.title},e.title))})]},r.title)),(0,a.jsx)(x(),{href:"/community/create-community",className:"block px-4 py-2 border-b border-gray-700 hover:bg-gray-700",children:"Community"}),(0,a.jsx)(x(),{href:"/dashboard/crowdfunding-events",className:"block px-4 py-2 border-b border-gray-700 hover:bg-gray-700",children:"Dashboard"}),!s&&!c&&(0,a.jsx)("button",{className:"block w-full bg-black text-white border border-white px-4 py-2 rounded-full hover:bg-gray-700 mt-2",onClick:()=>v(!0),children:"Login Now"})]})]})},w=()=>{let{setProposal:e}=(0,d.O)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:"flex flex-col md:flex-row",children:[(0,a.jsx)("div",{className:"md:w-[780px] md:h-[730px] bg-cover bg-center",style:{backgroundImage:"url('/form.png')"},children:(0,a.jsxs)("div",{className:"flex gap-2 items-center pt-4 pr-16 pb-8",children:[(0,a.jsx)("div",{className:"text-2xl",children:(0,a.jsx)("img",{src:"/nav.png",alt:"",width:"30px",height:"10px"})}),(0,a.jsx)("div",{className:"text-white text-xl font-semibold",children:(0,a.jsx)("a",{href:"/",children:"Dreamstarter"})})]})}),(0,a.jsxs)("div",{className:"md:w-[750px] bg-[#1d3f71] text-white p-6 md:p-16",children:[(0,a.jsx)("div",{className:"fixed top-0 right-0 md:static",children:(0,a.jsx)(v,{})}),(0,a.jsx)("div",{className:"mt-20 md:mt-0",children:(0,a.jsx)(o.J9,{initialValues:{title:"",description:"",priceperNFT:1,funding_goal:20,proposal_type:"",date:""},onSubmit:(t,r)=>{e(t),(0,u.yv)("".concat(t.title," has been created"),{variant:"success"}),r.setSubmitting(!1)},children:e=>{let{isSubmitting:t,setFieldValue:r,values:d}=e;return(0,a.jsxs)(o.l0,{children:[(0,a.jsx)("div",{className:"text-2xl mb-4 font-semibold",children:"Submit Proposal"}),(0,a.jsx)("div",{className:"mb-8 italic text-gray-300",children:"Submit your project proposals and ideas for community votes and crowdfunding"}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-medium",htmlFor:"title",children:"Proposal Title"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(s.Z,{style:{background:"#4AA5F4"},className:"input px-4 py-3 rounded-lg focus:outline-none focus:shadow-lg focus:shadow-gray-500/50",required:!0,value:d.title,onChange:e=>{r("title",e.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-medium",htmlFor:"description",children:"Description"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(s.Z.TextArea,{style:{background:"#4AA5F4"},className:"input px-4 py-2 rounded-lg focus:outline-none focus:shadow-lg focus:shadow-gray-500/50",required:!0,value:d.description,onChange:e=>{r("description",e.target.value)}})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-medium",htmlFor:"priceperNFT",children:"Price per NFT"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(l.Z,{style:{background:"#4AA5F4"},className:"input px-4 py-1 rounded-lg focus:outline-none focus:shadow-lg focus:shadow-gray-500/50",required:!0,value:d.priceperNFT,onChange:e=>{r("priceperNFT",e)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"font-medium",htmlFor:"funding_goal",children:"Funding Goal"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(l.Z,{style:{background:"#4AA5F4"},className:"input px-4 py-1 rounded-lg focus:outline-none focus:shadow-lg focus:shadow-gray-500/50",required:!0,value:d.funding_goal,onChange:e=>{r("funding_goal",e)}})})]})]}),(0,a.jsxs)(i.ZP.Group,{onChange:e=>{r("proposal_type",e.target.value)},value:d.proposal_type,children:[(0,a.jsx)(i.ZP,{value:"collab",className:"font-raleway text-white",children:"Dreamstarter Collab"}),(0,a.jsx)(i.ZP,{value:"holder",className:"font-raleway text-white",children:"Dreamstarter Holder"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"date",className:"block mb-2",children:"Valid till"}),(0,a.jsx)(c.Z,{style:{background:"#4AA5F4"},className:"input px-4 py-1 rounded-lg focus:outline-none focus:shadow-lg focus:shadow-gray-500/50",onChange:e=>{r("date",e)}})]})]}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)(n.Z,{style:{color:"white",borderRadius:"9999px",background:"#0F4C81"},className:"hover:bg-sky-500 w-full md:w-auto",type:"submit",_isSubmitting:t,disabled:t,variant:"",children:"Create Proposal"})})]})}})})]})]})})}},97350:function(e,t,r){"use strict";var a=r(2265),o=r(51577);t.Z=function(){let e=(0,a.useMemo)(()=>{let e=new o.ScN({network:o.ZcK.TESTNET});return new o.gZG(e)},[]);return{aptos:e,moduleAddress:"0xcfcdcdf5798fd485e834f4cdf657685a68746bad02f439880f6707b0ccc57220"}}},74983:function(e,t,r){"use strict";r.d(t,{x:function(){return k}});var a=r(51577),o=r(94660),n=r(74810);let s=new a.gZG(new a.ScN({network:a.ZcK.TESTNET}));var l=r(53771),i=r(74578);let c=i.z.object({aud:i.z.string(),exp:i.z.number(),iat:i.z.number(),iss:i.z.string(),sub:i.z.string()}),d=c.extend({nonce:i.z.string()}),u=d.extend({family_name:i.z.string().optional(),given_name:i.z.string().optional(),locale:i.z.string().optional(),name:i.z.string(),picture:i.z.string().optional()}),p=d.extend({email:i.z.string().optional(),email_verified:i.z.boolean()}),m=u.merge(p),h=e=>m.parse((0,l.o)(e)),x=e=>"string"==typeof e?x(h(e)):!!e.nonce,g=e=>"string"==typeof e?g(h(e)):x(e)?e:null,f={decode:e=>new a.Cwi({blinder:e.blinder,expiryDateSecs:BigInt(e.expiryDateSecs),privateKey:new a.qN7(e.privateKey)}),encode:e=>({__type:"EphemeralKeyPair",blinder:e.blinder,expiryDateSecs:e.expiryDateSecs.toString(),privateKey:e.privateKey.toString()})},b=e=>v(e)?e:void 0;BigInt(86400);let y=()=>BigInt(Math.floor(Date.now()/1e3)),v=e=>y()<=e.expiryDateSecs,w={decode:e=>a.Ifl.fromJWTAndProof({ephemeralKeyPair:e.ephemeralKeyPair,jwt:e.jwt,pepper:e.pepper,proof:new a.fah({extraField:e.proof.extraField,overrideAudVal:e.proof.overrideAudVal,proof:new a.rT3({a:e.proof.proof.a,b:e.proof.proof.b,c:e.proof.proof.c})})}),encode:e=>({__type:"KeylessAccount",ephemeralKeyPair:e.ephemeralKeyPair,jwt:e.jwt,pepper:e.pepper,proof:{extraField:e.proof.extraField,overrideAudVal:e.proof.overrideAudVal,proof:{a:e.proof.proof.a,b:e.proof.proof.b,c:e.proof.proof.c}}})},j=e=>v(e.ephemeralKeyPair)&&x(e.jwt)&&h(e.jwt).nonce===e.ephemeralKeyPair.nonce?e:void 0,N=(0,n.FL)(()=>localStorage,{replacer:(e,t)=>"bigint"==typeof t?{__type:"bigint",value:t.toString()}:t instanceof Uint8Array?{__type:"Uint8Array",value:Array.from(t)}:t instanceof a.Cwi?f.encode(t):t instanceof a.Ifl?w.encode(t):t,reviver:(e,t)=>t&&"bigint"===t.__type?BigInt(t.value):t&&"Uint8Array"===t.__type?new Uint8Array(t.value):t&&"EphemeralKeyPair"===t.__type?f.decode(t):t&&"KeylessAccount"===t.__type?w.decode(t):t}),k=(0,o.Ue)()((0,n.tJ)((e,t)=>({accounts:[],commitEphemeralKeyPair:t=>{let r=v(t);if(!r)throw Error("addEphemeralKeyPair: Invalid ephemeral key pair provided");e({ephemeralKeyPair:t})},disconnectKeylessAccount:()=>e({activeAccount:void 0}),getEphemeralKeyPair:()=>{let e=t().ephemeralKeyPair;return e?b(e):void 0},switchKeylessAccount:async r=>{let a;e({...t(),activeAccount:void 0},!0);let o=g(r);if(!o)throw Error("switchKeylessAccount: Invalid idToken provided, could not decode");let n=t().getEphemeralKeyPair();if(!n||(null==n?void 0:n.nonce)!==o.nonce)throw Error("switchKeylessAccount: Ephemeral key pair not found");let l=t().accounts.find(e=>e.idToken.decoded.sub===o.sub);try{a=await s.deriveKeylessAccount({ephemeralKeyPair:n,jwt:r})}catch(e){if(!(null==l?void 0:l.pepper))throw e;a=await s.deriveKeylessAccount({ephemeralKeyPair:n,jwt:r,pepper:l.pepper})}let{pepper:i}=a;return e({accounts:l?t().accounts.map(e=>e.idToken.decoded.sub===o.sub?{idToken:{decoded:o,raw:r},pepper:i}:e):[...t().accounts,{idToken:{decoded:o,raw:r},pepper:i}],activeAccount:a}),a}}),{merge:(e,t)=>{let r={...t,...e};return{...r,activeAccount:r.activeAccount&&j(r.activeAccount),ephemeralKeyPair:r.ephemeralKeyPair&&b(r.ephemeralKeyPair)}},name:"@aptos-connect/keyless-accounts",partialize:e=>{let{activeAccount:t,ephemeralKeyPair:r,...a}=e;return{...a,activeAccount:t&&j(t),ephemeralKeyPair:r&&b(r)}},storage:N,version:1}))}},function(e){e.O(0,[9719,1630,478,9776,9627,7566,7613,2971,2472,1744],function(){return e(e.s=16811)}),_N_E=e.O()}]);