(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4696],{55024:function(){},25486:function(e,t,r){"use strict";var o=r(57437),a=r(2265),n=r(11490),l=r(61396),i=r.n(l),s=r(74983),c=r(97350),d=r(81630),p=r.n(d);t.Z=()=>{let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(!1),d=[{title:"Launch",subItems:[{title:"Create Proposal",path:"/launch/create-proposal"},{title:"Convert Proposal",path:"/launch/convert-proposal"}]},{title:"Explore",subItems:[{title:"Ongoing Proposals",path:"/explore/ongoing-proposals"},{title:"Crowdfunding Events",path:"/explore/crowdfunding-events"}]}],u=n.Z.get("dream_starter_wallet"),{aptos:h,moduleAddress:m}=(0,c.Z)(),{activeAccount:x,disconnectKeylessAccount:w}=(0,s.x)();console.log("activeAccount",x);let[f,b]=(0,a.useState)(""),[y,g]=(0,a.useState)(!1),[v,k]=(0,a.useState)(!0),[j,N]=(0,a.useState)(null),[A,K]=(0,a.useState)(!1),_=()=>{if("aptos"in window)return window.aptos;window.open("https://petra.app/","_blank")},C=async()=>{let e=_();try{let t=await e.connect();console.log(t);let r=await e.network();if("Testnet"===r){let r={message:"Hello! from dream starter",nonce:Math.random().toString(16)};await e.signMessage(r),n.Z.set("dream_starter_wallet",t.address,{expires:7}),window.location.reload()}else alert("Switch to Testnet in your Petra wallet")}catch(e){console.error(e)}},E=()=>{n.Z.remove("dream_starter_wallet"),window.location.href="/"};return(0,a.useEffect)(()=>{let e=async()=>{try{let e=await p().get("https://api.multiavatar.com/".concat(Math.floor(1e3*Math.random()))),t="data:image/svg+xml,".concat(encodeURIComponent(e.data));b(t)}catch(e){console.error("Error fetching avatar:",e.message)}};e()},[]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=async e=>{let t=await h.getAccountAPTAmount({accountAddress:e});return t},t=await e(x.accountAddress);console.log("Sender balance:",t),N(t),K(!1)}catch(e){console.error("Error fetching balance:",e.message)}};e()},[x,A]),(0,o.jsxs)("div",{className:"px-6 py-4 shadow-sm flex justify-between items-center z-20 bg-[#0F4C81]",children:[(0,o.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,o.jsx)("div",{className:"text-2xl",children:(0,o.jsx)("img",{src:"/nav.png",alt:"",width:"30px",height:"10px"})}),(0,o.jsx)("div",{className:"text-white text-xl font-semibold",children:(0,o.jsx)("a",{href:"/",children:"Dreamstarter"})})]}),(0,o.jsxs)("div",{className:"hidden md:flex gap-4 items-center text-white z-20",children:[d.map(r=>(0,o.jsxs)("div",{className:"relative cursor-pointer",onMouseEnter:()=>t(r.title),onMouseLeave:()=>t(null),children:[r.title,r.subItems&&(0,o.jsx)("div",{className:"absolute left-0 w-48 py-2 px-2 rounded-md shadow-xl z-20 bg-[#32313199] ".concat(e===r.title?"block":"hidden"),children:r.subItems.map(e=>(0,o.jsx)(i(),{href:e.path,className:"block px-4 z-20 text-white py-2 text-sm hover:bg-blue-50 hover:text-blue-500 rounded-md",children:e.title},e.title))})]},r.title)),(0,o.jsx)("a",{href:"/community/create-community",children:"Community"}),(0,o.jsx)("a",{href:"/dashboard/crowdfunding-events",children:"Dashboard"}),u&&(0,o.jsx)("button",{onClick:E,className:"bg-white p-2 px-3 text-black hover:bg-sky-500 rounded-xl",children:"Logout"}),!u&&!x&&(0,o.jsx)("button",{style:{color:"black",borderRadius:"9999px",border:"1.5px solid black"},className:"bg-white p-2 text-black hover:bg-sky-500 {`btn-login ${provider}`}",onClick:()=>{g(!0)},children:"Login Now"})]}),(0,o.jsx)("div",{className:"md:hidden",children:(0,o.jsx)("button",{className:"text-white focus:outline-none",onClick:()=>l(!r),children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})}),r&&(0,o.jsxs)("div",{className:"md:hidden absolute top-16 left-0 w-full bg-[#0F4C81] z-20",children:[d.map(r=>(0,o.jsxs)("div",{className:"relative cursor-pointer border-b border-white",children:[(0,o.jsx)("div",{className:"py-4 px-6 text-white",onClick:()=>t(e===r.title?null:r.title),children:r.title}),r.subItems&&e===r.title&&(0,o.jsx)("div",{className:"px-4 py-2 bg-[#32313199]",children:r.subItems.map(e=>(0,o.jsx)(i(),{href:e.path,className:"block px-4 py-2 text-white hover:bg-blue-50 hover:text-blue-500 rounded-md",children:e.title},e.title))})]},r.title)),(0,o.jsx)("a",{href:"/community/create-community",className:"block py-4 px-6 text-white border-b border-white",children:"Community"}),(0,o.jsx)("a",{href:"/dashboard/crowdfunding-events",className:"block py-4 px-6 text-white border-b border-white",children:"Dashboard"}),u&&(0,o.jsx)("button",{onClick:E,className:"block w-full text-left py-4 px-6 text-black bg-white hover:bg-sky-500 rounded-none",children:"Logout"}),!u&&!x&&(0,o.jsx)("button",{style:{color:"black",borderRadius:"9999px",border:"1.5px solid black"},className:"block w-full text-left py-4 px-6 text-black bg-white hover:bg-sky-500",onClick:()=>{g(!0)},children:"Login Now"})]}),y&&(0,o.jsx)("div",{style:{backgroundColor:"#222944E5"},className:"flex overflow-y-auto overflow-x-hidden fixed inset-0 z-50 justify-center items-center w-full max-h-full",id:"popupmodal",children:(0,o.jsx)("div",{className:"relative p-4 lg:w-1/3 w-full max-w-2xl max-h-full",children:(0,o.jsxs)("div",{className:"relative rounded-3xl shadow bg-black text-white",children:[(0,o.jsx)("div",{className:"flex items-center justify-end p-4 md:p-5 rounded-t dark:border-gray-600",children:(0,o.jsxs)("button",{onClick:()=>g(!1),type:"button",className:"text-white bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,o.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,o.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,o.jsx)("span",{className:"sr-only",children:"Close modal"})]})}),(0,o.jsx)("div",{className:"p-4 space-y-4",children:(0,o.jsx)("p",{className:"text-3xl text-center font-bold",style:{color:"#E8C6AA"},children:"Login Options"})}),(0,o.jsx)("div",{className:"flex justify-center p-4 pb-10",children:(0,o.jsx)("button",{className:"text-black px-6 py-2 bg-white",style:{borderRadius:"10px"},onClick:C,children:"Connect with Petra"})})]})})})]})}},97350:function(e,t,r){"use strict";var o=r(2265),a=r(51577);t.Z=function(){let e=(0,o.useMemo)(()=>{let e=new a.ScN({network:a.ZcK.TESTNET});return new a.gZG(e)},[]);return{aptos:e,moduleAddress:"0xcfcdcdf5798fd485e834f4cdf657685a68746bad02f439880f6707b0ccc57220"}}},74983:function(e,t,r){"use strict";r.d(t,{x:function(){return N}});var o=r(51577),a=r(94660),n=r(74810);let l=new o.gZG(new o.ScN({network:o.ZcK.TESTNET}));var i=r(53771),s=r(74578);let c=s.z.object({aud:s.z.string(),exp:s.z.number(),iat:s.z.number(),iss:s.z.string(),sub:s.z.string()}),d=c.extend({nonce:s.z.string()}),p=d.extend({family_name:s.z.string().optional(),given_name:s.z.string().optional(),locale:s.z.string().optional(),name:s.z.string(),picture:s.z.string().optional()}),u=d.extend({email:s.z.string().optional(),email_verified:s.z.boolean()}),h=p.merge(u),m=e=>h.parse((0,i.o)(e)),x=e=>"string"==typeof e?x(m(e)):!!e.nonce,w=e=>"string"==typeof e?w(m(e)):x(e)?e:null,f={decode:e=>new o.Cwi({blinder:e.blinder,expiryDateSecs:BigInt(e.expiryDateSecs),privateKey:new o.qN7(e.privateKey)}),encode:e=>({__type:"EphemeralKeyPair",blinder:e.blinder,expiryDateSecs:e.expiryDateSecs.toString(),privateKey:e.privateKey.toString()})},b=e=>g(e)?e:void 0;BigInt(86400);let y=()=>BigInt(Math.floor(Date.now()/1e3)),g=e=>y()<=e.expiryDateSecs,v={decode:e=>o.Ifl.fromJWTAndProof({ephemeralKeyPair:e.ephemeralKeyPair,jwt:e.jwt,pepper:e.pepper,proof:new o.fah({extraField:e.proof.extraField,overrideAudVal:e.proof.overrideAudVal,proof:new o.rT3({a:e.proof.proof.a,b:e.proof.proof.b,c:e.proof.proof.c})})}),encode:e=>({__type:"KeylessAccount",ephemeralKeyPair:e.ephemeralKeyPair,jwt:e.jwt,pepper:e.pepper,proof:{extraField:e.proof.extraField,overrideAudVal:e.proof.overrideAudVal,proof:{a:e.proof.proof.a,b:e.proof.proof.b,c:e.proof.proof.c}}})},k=e=>g(e.ephemeralKeyPair)&&x(e.jwt)&&m(e.jwt).nonce===e.ephemeralKeyPair.nonce?e:void 0,j=(0,n.FL)(()=>localStorage,{replacer:(e,t)=>"bigint"==typeof t?{__type:"bigint",value:t.toString()}:t instanceof Uint8Array?{__type:"Uint8Array",value:Array.from(t)}:t instanceof o.Cwi?f.encode(t):t instanceof o.Ifl?v.encode(t):t,reviver:(e,t)=>t&&"bigint"===t.__type?BigInt(t.value):t&&"Uint8Array"===t.__type?new Uint8Array(t.value):t&&"EphemeralKeyPair"===t.__type?f.decode(t):t&&"KeylessAccount"===t.__type?v.decode(t):t}),N=(0,a.Ue)()((0,n.tJ)((e,t)=>({accounts:[],commitEphemeralKeyPair:t=>{let r=g(t);if(!r)throw Error("addEphemeralKeyPair: Invalid ephemeral key pair provided");e({ephemeralKeyPair:t})},disconnectKeylessAccount:()=>e({activeAccount:void 0}),getEphemeralKeyPair:()=>{let e=t().ephemeralKeyPair;return e?b(e):void 0},switchKeylessAccount:async r=>{let o;e({...t(),activeAccount:void 0},!0);let a=w(r);if(!a)throw Error("switchKeylessAccount: Invalid idToken provided, could not decode");let n=t().getEphemeralKeyPair();if(!n||(null==n?void 0:n.nonce)!==a.nonce)throw Error("switchKeylessAccount: Ephemeral key pair not found");let i=t().accounts.find(e=>e.idToken.decoded.sub===a.sub);try{o=await l.deriveKeylessAccount({ephemeralKeyPair:n,jwt:r})}catch(e){if(!(null==i?void 0:i.pepper))throw e;o=await l.deriveKeylessAccount({ephemeralKeyPair:n,jwt:r,pepper:i.pepper})}let{pepper:s}=o;return e({accounts:i?t().accounts.map(e=>e.idToken.decoded.sub===a.sub?{idToken:{decoded:a,raw:r},pepper:s}:e):[...t().accounts,{idToken:{decoded:a,raw:r},pepper:s}],activeAccount:o}),o}}),{merge:(e,t)=>{let r={...t,...e};return{...r,activeAccount:r.activeAccount&&k(r.activeAccount),ephemeralKeyPair:r.ephemeralKeyPair&&b(r.ephemeralKeyPair)}},name:"@aptos-connect/keyless-accounts",partialize:e=>{let{activeAccount:t,ephemeralKeyPair:r,...o}=e;return{...o,activeAccount:t&&k(t),ephemeralKeyPair:r&&b(r)}},storage:j,version:1}))}}]);